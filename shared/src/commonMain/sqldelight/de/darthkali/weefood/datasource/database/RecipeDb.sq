-- -----------------------------------------------------
-- Table
-- -----------------------------------------------------
CREATE TABLE recipe_Entity (
  id            INTEGER             NOT NULL PRIMARY KEY AUTOINCREMENT,
  name          TEXT                NOT NULL,
  image         TEXT,
  cooking_time  INTEGER AS Integer  NOT NULL,
  unit          TEXT                NOT NULL,
  description   TEXT
);

-- -----------------------------------------------------
-- CRUD
-- -----------------------------------------------------

-- -----------------------------------------------------
-- CREATE
-- -----------------------------------------------------
insertRecipe:
INSERT INTO recipe_Entity(id,name, image,cooking_time, unit, description)
VALUES(?, ?, ?, ?, ?, ?);


-- -----------------------------------------------------
-- READ
-- -----------------------------------------------------
getAllRecipes:
SELECT *
FROM recipe_Entity
LIMIT :pageSize
OFFSET :offset;

getRecipeById:
SELECT * FROM recipe_Entity
WHERE id = :id;


searchRecipes:
SELECT * FROM recipe_Entity
WHERE name LIKE ('%' || :query || '%')
-- OR ingredients LIKE ('%' || :query || '%')
-- ORDER BY date_updated DESC -- Ordering can cause duplicates in the results because they all have identical timestamps
LIMIT :pageSize
OFFSET :offset;

-- -----------------------------------------------------
-- UPDATE
-- -----------------------------------------------------


-- -----------------------------------------------------
-- DELETE
-- -----------------------------------------------------

deleteRecipeById:
DELETE FROM recipe_Entity WHERE id = ?;

deleteAllRecipes:
DELETE FROM recipe_Entity;












